@model gad_checa_gestion_cementerio.Models.Listas.BovedaPaginadaViewModel

<div class="table-responsive">
    <table class="table table-hover">
        <thead class="table-light">
            <tr>
                <th><i class="fas fa-hashtag me-2"></i>Número</th>
                <th><i class="fas fa-sort-numeric-up me-2"></i>Número Secuencial</th>
                <th><i class="fas fa-building me-2"></i>Bloque</th>
                <th><i class="fas fa-layer-group me-2"></i>Piso</th>
                <th><i class="fas fa-toggle-on me-2"></i>Estado</th>
                <th><i class="fas fa-user me-2"></i>Propietario</th>
                <th><i class="fas fa-cogs me-2"></i>Acciones</th>
            </tr>
        </thead>
        <tbody>
            @if (!Model.Bovedas.Any())
            {
                <tr>
                    <td colspan="7" class="text-center py-4">
                        <div class="text-muted">
                            <i class="fas fa-search fa-2x mb-3"></i>
                            <p class="mb-0">No se encontraron bóvedas que coincidan con los criterios de búsqueda.</p>
                        </div>
                    </td>
                </tr>
            }
            else
            {
                @foreach (var item in Model.Bovedas)
                {
                    <tr>
                        <td>@item.Numero</td>
                        <td>@item.NumeroSecuecial</td>
                        <td>@item.Piso?.Bloque?.Descripcion</td>
                        <td>@item.Piso?.NumeroPiso</td>
                        <td>
                            @if (item.Estado)
                            {
                                <span class="badge bg-success">
                                    <i class="fas fa-check-circle me-1"></i>Disponible
                                </span>
                            }
                            else
                            {
                                <span class="badge bg-danger">
                                    <i class="fas fa-times-circle me-1"></i>Ocupada
                                </span>
                            }
                        </td>
                        <td>
                            @if (item.Propietario != null)
                            {
                                <div class="d-flex align-items-center">
                                    <i class="fas fa-user me-2"></i>
                                    <div>
                                        <div class="fw-bold">@item.Propietario.Nombres @item.Propietario.Apellidos</div>
                                        <small class="text-muted">@item.Propietario.TipoIdentificacion:
                                            @item.Propietario.NumeroIdentificacion</small>
                                    </div>
                                </div>
                            }
                            else
                            {
                                <span class="text-muted">Sin propietario</span>
                            }
                        </td>
                        <td>
                            <div class="btn-group">
                                <a asp-action="Edit" asp-route-id="@item.Id" class="btn btn-sm btn-primary" title="Editar">
                                    <i class="fas fa-edit"></i>
                                </a>
                                <a asp-action="Details" asp-route-id="@item.Id" class="btn btn-sm btn-info" title="Detalles">
                                    <i class="fas fa-eye"></i>
                                </a>
                                <a asp-action="Delete" asp-route-id="@item.Id" class="btn btn-sm btn-danger" title="Eliminar">
                                    <i class="fas fa-trash"></i>
                                </a>
                            </div>
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>

<!-- Paginación -->
<partial name="_Paginacion" model="Model" />