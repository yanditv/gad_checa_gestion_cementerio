@model gad_checa_gestion_cementerio.Models.Views.BovedaFilterModel
@{
    ViewData["Title"] = "Bovedas";
    Layout = "~/Views/Cementerio/_CementerioLayout.cshtml";
    ViewData["EntityType"] = "bovedas";
}

<!-- Card -->
<div class="mb-4 flex flex-col">
    <div class="-m-1.5 overflow-x-auto">
        <div class="p-1.5 inline-block min-w-full align-middle">
            <div class="bg-white border-gray-200 overflow-hidden rounded-xl border shadow-sm dark:bg-neutral-800 dark:border-neutral-700">
                <!-- Header -->
                <div class="px-6 py-4 gap-3 border-gray-200 grid border-b dark:border-neutral-700 md:flex md:justify-between md:items-center">
                    <div>
                        <h2 class="text-gray-800 text-xl font-semibold dark:text-neutral-200">
                            Seleccione un bloque
                        </h2>
                        <p class="text-gray-600 text-sm dark:text-neutral-400">
                            Seleccione un bloque existente y, si desea, elija el piso correspondiente
                        </p>
                    </div>

                    <div>
                        <div class="gap-x-3 flex items-center">
                            <!-- Select -->
                            <div class="relative inline-block max-w-xs">
                                <select asp-for="Bloque"
                                class="py-2 px-4 mx-2 border-gray-200 text-gray-600 w-full rounded-lg text-left text-sm shadow-sm focus:z-10 focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600"
                                asp-items="ViewBag.Bloques">
                                    <option value="" class="text-left">Seleccione un bloque</option>
                                </select>
                                <span asp-validation-for="Bloque" class="text-red-500 mt-1 text-sm"></span>
                            </div>

                            <!-- Botón "View all" -->
                            <a class="py-2 px-3 gap-x-2 border-gray-200 bg-white text-gray-800 inline-block items-center rounded-lg border text-sm font-medium shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-transparent dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800" asp-action="Index">
                                View all
                            </a>
                            <a class="py-2 px-3 gap-x-2 border-transparent bg-blue-600 text-white inline-flex items-center rounded-lg border text-sm font-medium hover:bg-blue-700 focus:outline-none focus:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none" asp-action="Create">
                                <svg class="size-4 shrink-0" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M5 12h14"></path>
                                    <path d="M12 5v14"></path>
                                </svg>
                                Cargar Datos
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@* <div class="border-gray-200 border-b-2 dark:border-neutral-700">
    <nav class="-mb-0.5 space-x-6 flex justify-end">
        <a class="py-4 px-1 gap-2 border-transparent text-gray-500 inline-flex items-center whitespace-nowrap border-b-2 text-sm hover:text-blue-600 focus:outline-none focus:text-blue-600 dark:text-neutral-500 dark:hover:text-blue-500 dark:focus:text-blue-500" href="#">
            Ver tabla
        </a>
        <a class="py-4 px-1 gap-2 border-blue-500 text-blue-600 inline-flex items-center whitespace-nowrap border-b-2 text-sm font-medium focus:outline-none focus:text-blue-800 dark:text-blue-500" href="#" aria-current="page">
            Ver Grafico
        </a>
    </nav>
</div>
 *@
<!-- Pestañas -->
<div class="mx-auto max-w-4xl">
  <!-- Nav de pestañas -->
  <div class="border-gray-200 border-b dark:border-neutral-700">
    <nav class="space-x-2 flex" aria-label="Tabs">
      <!-- Pestaña 1 -->
      <button
        type="button"
        class="py-4 px-4 gap-2 border-transparent text-gray-500 inline-flex items-center whitespace-nowrap border-b-2 text-sm hover:text-blue-600 focus:outline-none focus:text-blue-600 dark:text-neutral-500 hs-tab-active:font-semibold hs-tab-active:border-blue-600 hs-tab-active:text-blue-600 dark:hover:text-blue-500"
        id="tab1-tab"
        data-hs-tab="#tab1"
        aria-controls="tab1"
        role="tab"
      >
        Tab 1
      </button>

      <!-- Pestaña 2 -->
      <button
        type="button"
        class="py-4 px-4 gap-2 border-transparent text-gray-500 inline-flex items-center whitespace-nowrap border-b-2 text-sm hover:text-blue-600 focus:outline-none focus:text-blue-600 dark:text-neutral-500 hs-tab-active:font-semibold hs-tab-active:border-blue-600 hs-tab-active:text-blue-600 dark:hover:text-blue-500"
        id="tab2-tab"
        data-hs-tab="#tab2"
        aria-controls="tab2"
        role="tab"
      >
        Tab 2
      </button>

      <!-- Pestaña 3 -->
      <button
        type="button"
        class="py-4 px-4 gap-2 border-transparent text-gray-500 inline-flex items-center whitespace-nowrap border-b-2 text-sm hover:text-blue-600 focus:outline-none focus:text-blue-600 dark:text-neutral-500 hs-tab-active:font-semibold hs-tab-active:border-blue-600 hs-tab-active:text-blue-600 dark:hover:text-blue-500"
        id="tab3-tab"
        data-hs-tab="#tab3"
        aria-controls="tab3"
        role="tab"
      >
        Tab 3
      </button>
    </nav>
  </div>

  <!-- Contenido de las pestañas -->
  <div class="mt-4">
    <!-- Contenido de Tab 1 -->
    <div
      id="tab1"
      class="p-4 bg-gray-100 hidden rounded-lg"
      role="tabpanel"
      aria-labelledby="tab1-tab"
    >
      <h2 class="mb-4 text-xl font-bold">Contenido de Tab 1</h2>
      <p>Este es el contenido de la pestaña 1.</p>
    </div>

    <!-- Contenido de Tab 2 -->
    <div
      id="tab2"
      class="p-4 bg-gray-100 hidden rounded-lg"
      role="tabpanel"
      aria-labelledby="tab2-tab"
    >
      <h2 class="mb-4 text-xl font-bold">Contenido de Tab 2</h2>
      <p>Este es el contenido de la pestaña 2.</p>
    </div>

    <!-- Contenido de Tab 3 -->
    <div
      id="tab3"
      class="p-4 bg-gray-100 hidden rounded-lg"
      role="tabpanel"
      aria-labelledby="tab3-tab"
    >
      <h2 class="mb-4 text-xl font-bold">Contenido de Tab 3</h2>
      <p>Este es el contenido de la pestaña 3.</p>
    </div>
  </div>
</div>


<div class="bg-gray-100 p-6 min-h-screen">
    <h1 class="mb-6 text-center text-2xl font-bold">Bóvedas de Cementerio</h1>

    <!-- Contenedor del bloque -->
    <div class="mx-auto flex max-w-4xl overflow-hidden rounded-lg shadow-md">
        <!-- Calle Izquierda -->
        <div class="w-16 bg-gray-600 flex items-center justify-center rounded-l-lg">
            <span class="text-white -rotate-90 transform font-semibold">Calle B</span>
        </div>

        <!-- Bloque de bóvedas -->
        <div class="flex-1">
            <!-- Calle Principal -->
            <div class="bg-gray-600 h-14 flex w-full items-center justify-center">
                <span class="text-white font-semibold">Calle A</span>
            </div>
            <div class="bg-gray-200 p-6 pb-12">
                @for (int i = Model.getNumeroPisos; i > 0; i--)
                {
                    <div class="space-y-4 mb-8 flex flex-col">
                        <p class="mb-2 text-lg font-bold"> Piso @i</p>
                        <div class="gap-4 grid grid-cols-6">

                            @foreach (var item in Model.Bovedas.OrderByDescending(b => b.Numero))
                            {
                                @if(item.Piso.NumeroPiso==i){
                                    <!-- Bóvedas -->
                                    <div class="border-gray-400 bg-white relative aspect-square rounded-lg border-8 shadow-sm transition-colors hover:bg-gray-50">
                                        <svg class="w-8 h-8 mt-4 text-gray-600 mx-auto" xmlns="http://www.w3.org/2000/svg" id="Layer_2" data-name="Layer 2" viewBox="0 0 256.25 418.58" stroke="currentColor">
                                            <g id="Layer_1-2" data-name="Layer 1">
                                                <path class="cls-1" d="m93.83,93.74c.22-4.94.59-10.02.64-15.09.2-20.47.28-40.93.43-61.4.04-5.47,1.35-10.41,6-13.9,3.4-2.55,7.45-3.16,11.47-3.22,11.85-.17,23.7-.17,35.55-.03,8.87.11,13.72,6.18,13.68,14.09-.12,25.05.08,50.09.18,75.14,0,1.33-.23,2.7.35,4.03,1.33,1.25,3.02.82,4.58.82,24.24.03,48.48.03,72.72.01,2.83,0,5.65.04,8.46.46,4.36.64,6.75,2.78,7.83,6.99.44,1.71.53,3.45.52,5.21-.01,14.14,0,28.28-.02,42.42-.01,7.12-4.2,11.88-11.29,12.81-1.59.21-3.22.18-4.84.19-24.64.16-49.27.3-73.91.45-1.07,0-2.16-.12-3.28.42-1.26,1.43-.71,3.27-.71,4.94-.03,31.65.31,63.3-.1,94.94-.5,38.65-.13,77.29-.34,115.94-.04,7.81-.14,15.62-.22,23.43-.1,9.23-5.93,15.58-15.18,15.94-7.26.28-14.54-.03-21.81-.02-5.52.01-11.05-.08-16.56.24-7.7.45-13.41-7.3-13.34-13.32.14-12.12-.15-24.24-.15-36.35-.02-44.85.29-89.7-.12-134.54-.19-21.27-.07-42.55-.34-63.82-.01-1.08-.07-2.15-.09-3.23-.06-2.98-1.52-4.39-4.54-4.38-4.44.01-8.88-.18-13.32-.18-20.87-.02-41.75,0-62.62,0-1.08,0-2.19.16-3.23-.04-6.8-1.28-8.82-2.09-9.86-9.02-.47-3.09-.37-6.18-.38-9.27-.01-10.5,0-21.01,0-31.51,0-3.53.71-6.9,1.85-10.24,1.83-5.35,5.64-7.53,11.07-7.55,16.83-.05,33.66-.11,50.5-.21,9.02-.05,18.04-.18,27.06-.29.93-.01,1.89.1,3.35-.85Z" />
                                            </g>
                                        </svg>
                                        <p class="text-gray-800 mt-2 text-center">@item.Numero</p>
                                        <!-- Círculo de estado -->
                                        <div class="bottom-2 right-2 w-4 h-4 bg-green-500 absolute rounded-full"></div>
                                       @*  <div class="bottom-2 right-2 w-4 h-4 bg-red-500 absolute rounded-full"></div>
                                        <div class="bottom-2 right-2 w-4 h-4 bg-yellow-500 absolute rounded-full"></div> *@
                                    </div>
                                }
                            }
                        </div>
                    </div>
                    @if(i!=1){
                        <!-- Separador visual entre pisos -->
                        <div class="border-gray-400 my-4 border-b"></div>
                    }
                }
            </div>
        </div>
    </div>
</div>

@await Html.PartialAsync("_TablaGenerica", Model.Bovedas)
